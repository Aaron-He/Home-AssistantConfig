name: Floorplan
image: /local/custom_ui/floorplan/floorplan.svg
stylesheet: /local/custom_ui/floorplan/floorplan.css

groups:

  - name: Sensors
    entities:
       - sensor.melbourne_now
    text_template: '${entity.state ? entity.state : "unknown"}'
    class_template: '
      var temp = parseFloat(entity.state.replace("Â°", ""));
      if (temp < 10)
        return "temp-low";
      else if (temp < 30)
        return "temp-medium";
      else
        return "temp-high";
      '
  - name: Rooms
    entities:
      - group.kitchen_lights

    states:
      - state: 'on'
        class: 'light-on'
      - state: 'off'
        class: 'light-off'

  - name: Lights
    entities:
      - light.kids_hallway
      - light.bedroom_hallway
      - light.m1_back_left
      - light.m1_back_right
      - light.m1_front_left
      - light.m1_front_right
      - light.m1_slider

    states:
      - state: 'on'
        class: 'light-on'
      - state: 'off'
        class: 'light-off'

  - name: NVR
    entities:
       - binary_sensor.blue_iris_nvr
    text_template: '${(entity.state === "on") ? "online" : "offline"}'
    states:
      - state: 'off'
        class: 'danger-text'
      - state: 'on'
        class: 'success-text'

  - name: Nest Protects
    entities:
      - binary_sensor.upstairs_living_room_nest_protect_online
      - binary_sensor.hallway_nest_protect_kids_hallway_online
      - binary_sensor.justins_room_nest_protect_online
      - binary_sensor.kitchen_nest_protect_online
      - binary_sensor.master_bedroom_nest_protect_online
      - binary_sensor.master_hallway_nest_protect_online
      - binary_sensor.paiges_room_nest_protect_paiges_room_online
      - binary_sensor.upstairs_bedroom_nest_protect_online
      - binary_sensor.office_nest_protect_online
    states:
      - state: 'off'
        class: 'protect-off'
      - state: 'on'
        class: 'protect-on'

  - name: Entry Points
    entities:
      - binary_sensor.mcu1_gpio4
      - binary_sensor.mcu1_gpio5
      - binary_sensor.mcu1_gpio10
      - binary_sensor.mcu1_gpio12
      - binary_sensor.mcu1_gpio13
      - binary_sensor.mcu1_gpio14
      - binary_sensor.mcu2_gpio4
      - binary_sensor.mcu2_gpio5
      - binary_sensor.mcu2_gpio9
      - binary_sensor.mcu2_gpio10
      - binary_sensor.mcu2_gpio12
      - binary_sensor.mcu2_gpio13
      - binary_sensor.mcu2_gpio14
      - binary_sensor.mcu2_gpio15
      - binary_sensor.mcu3_gpio4
      - binary_sensor.mcu3_gpio5
      - binary_sensor.mcu3_gpio10
      - binary_sensor.mcu3_gpio14
      - binary_sensor.kitchen_door_opened
      - binary_sensor.mcu3_light
    states:
      - state: 'off'
        class: 'window-closed'
      - state: 'on'
        class: 'window-open'

  - name: Garage Doors
    entities:
      - cover.large_garage
      - cover.small_garage
    states:
      - state: 'closed'
        class: 'window-closed'
      - state: 'open'
        class: 'window-open'
